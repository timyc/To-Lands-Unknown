<!doctype html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="description" content="To Lands Unknown is a persitent browser based game.">
      <meta name="keywords" content="some,meta,tags">
      <meta name="viewport" content="initial-scale=1">
      <title><%= gameName %> | Persistent Browser Based Game</title>
      <!-- Bootstrap stylesheet -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   </head>
   <noscript>
      <meta http-equiv="Refresh" content="0;url=nojs">
   </noscript>
   <style>
      a {
      color:#F0FFF0;
      text-decoration:none;
      }
      .col > .apply-border {
      border-radius: 0px;
      border: 4px solid rgba(0, 0, 0, .5)
      }
      .card-body {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
      }
      .card-header:first-child {
      border-bottom: 1px solid black !important;
      border-radius:0px;
      }
      .form-control {
      width: 100% !important;
      }
      /* width */
      ::-webkit-scrollbar {
      width: 5px;
      }
      /* Track */
      ::-webkit-scrollbar-track {
      background: #000;
      }
      /* Handle */
      ::-webkit-scrollbar-thumb {
      background: #3366cc;
      }
      /* Handle on hover */
      ::-webkit-scrollbar-thumb:hover {
      background: #24478f;
      }
      .blankBtn {
      background: none;
      border: none;
      margin: 0;
      padding: 0;
      color: #FFF;
      outline: none;
      }
   </style>
   <body class="text-white bg-dark" style="background-color: #201F22 !important;background-position: center; background-repeat: no-repeat; background-size: cover; background-attachment: fixed;">
      <span id="checkLogin">
         <%if (loggedIn) { %>
         <script>
            window.location = "/main";
         </script>
         <% } %>
      </span>
      <div class="container" style="max-width:60vw">
         <div class="row">
            <div class="col" style="padding-left:0px;padding-right:0px;margin-top:10px">
               <div class="card apply-border" style="background-color: #28283b;margin:-0.5px;border-bottom:none;width:100% !important;min-width:144px !important;">
                  <div class="card-body text-white" style="background-image: url('img/styles/<%= style %>/space-header2.jpg');background-size:cover;padding-right:0px; padding-left:0px">
                     <div class="row">
                        <div class="col">
                           <div style="text-align:center">
                              <a href="/"><img src="img/styles/<%= style %>/logo_medium.png" style="width:30%; height:auto; pointer-events: none;"></a>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="row" style="background: linear-gradient(#2B2A41, #21212B);border: 4px solid rgba(0, 0, 0, .5)">
            <div class="col-7" style="padding-left:0px;padding-right:0px;width:100% !important;min-width:400px !important;border-right:1px solid black;">
               <div class="card" style="background: transparent !important;margin-left:-1px;width:100% !important;min-width:400px !important;border:none">
                  <div class="card-body text-white" style="padding-top:0px; padding-right:0px; padding-left:0px">
                     <div class="row" style="padding-left:15px;padding-right:15px;padding-top:15px">
                        <div class="col" id="loginSection">
                           <h3 align="center">Login</h3>
                           <!--<div class="alert alert-primary text-center" role="alert">
                              ℹ️ You have 5 total attempts to login.
                           </div>-->
                           <form action="loginAuth" method="POST" name="loginForm" class="form-horizontal">
                              <div class="form-group form-inline">
                                 <label class="control-label col-sm-2">Username: </label>
                                 <div class="col-sm-10">
                                    <input type="text" class="form-control form-control-sm" id="usernameLogin" placeholder="Username">
                                 </div>
                              </div>
                              <div class="form-group form-inline">
                                 <label class="control-label col-sm-2">Password: </label>
                                 <div class="col-sm-10">
                                    <input type="password" class="form-control form-control-sm" id="passwordLogin" placeholder="Password" onkeyup='keyup(event.keyCode);'>
                                 </div>
                              </div>
                           </form>
                           <div class="text-center">
                              <input type="button" class="btn btn-primary" onclick="login()" value="Login">
                              <div>No account? <button id="regClick" class="text-primary blankBtn">Click here to register!</button></div>
                           </div>
                           <div id="logOutput" class="text-center"></div>
                        </div>
                        <div class="col" id="registrationSection" style="display:none;opacity:0">
                           <h3 align="center">Register</h3>
                           <form action="regAuth" method="POST" name="regForm" class="form-horizontal">
                              <div class="form-group form-inline">
                                 <label class="control-label col-sm-2">Username: </label>
                                 <div class="col-sm-10">
                                    <input type="text" class="form-control form-control-sm" id="usernameReg" placeholder="20 chars max. No spaces.">
                                 </div>
                              </div>
                              <div class="form-group form-inline">
                                 <label class="control-label col-sm-2">Password: </label>
                                 <div class="col-sm-10">
                                    <input type="password" class="form-control form-control-sm" id="passwordReg" placeholder="At least 6 characters long.">
                                 </div>
                              </div>
                              <div class="form-group form-inline">
                                 <label class="control-label col-sm-2">Confirm: </label>
                                 <div class="col-sm-10">
                                    <input type="password" class="form-control form-control-sm" id="passwordRegConfirm" placeholder="Confirm Password">
                                 </div>
                              </div>
                              <div class="form-group form-inline">
                                 <label class="control-label col-sm-2">Email: </label>
                                 <div class="col-sm-10">
                                    <input type="email" class="form-control form-control-sm" id="emailReg" placeholder="Email Address">
                                 </div>
                              </div>
                              <div class="form-group form-inline">
                                 <label class="control-label col-sm-2">Gender: </label>
                                 <div class="col-sm-10">
                                    <select class="form-control form-control-sm" id="gender">
                                       <option value="1">Male</option>
                                       <option value="2">Female</option>
                                    </select>
                                 </div>
                              </div>
                              <div class="form-group form-inline" style="display:none">
                                 <label class="control-label col-sm-2">Referral ID: </label>
                                 <div class="col-sm-10">
                                    <input type="number" class="form-control form-control-sm" id="referralReg" value="<%= gReferrer %>" disabled>
                                 </div>
                              </div>
                              <div class="form-check" style="margin-bottom:5px">
                                 <div class="col-sm-offset-2 col-sm-10 text-center">
                                    <input class="form-check-input" type="checkbox" id="tos">
                                    <label class="form-check-label">
                                    I accept the <a href="/terms" target="_blank" class="text-primary">Terms of Service</a>
                                    </label>
                                 </div>
                              </div>
                           </form>
                           <center>
                              <div class="g-recaptcha" data-sitekey="6Lf9RrEUAAAAAHppLjNHkg1amQyaIYkTqXNGf6eq"></div>
                           </center>
                           <br />
                           <div class="text-center">
                              <input type="button" class="btn btn-primary" onclick="register()" value="Register">
                              <div>Already have an account? <button id="logClick" class="text-primary blankBtn">Click here to login!</button></div>
                           </div>
                           <div id="regOutput" class="text-center"></div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="col" style="padding-left:0px;padding-right:0px;padding-top:15px;width:100% !important;min-width:144px !important">
               <div class="card" style="background: transparent !important;margin-left:1px;width:100% !important;min-width:144px !important;border:none">
                  <div class="card-body text-white" style="padding-top:0px; padding-right:0px; padding-left:0px">
                     <div class="row">
                        <div class="col">
                           <h3 class="text-center">Game Info</h3>
                           <p style="padding-right:10px; padding-left:10px"><%= gameName %> is a text-based PBBG set in a distant future where teleportation is the norm. Slay beasts and explore the unknown parts of the galaxy.</p>
                        </div>
                     </div>
                  </div>
               </div>
               <h3 class="text-center">News</h3>
               <div class="card" style="background: transparent !important;width:100% !important;min-width:130px !important; max-height:150px; overflow-y:auto; overflow-x:hidden;border-style:dotted;border-color:black;border-width:1px 0px 0px 0px;border-radius:0em">
                  <div class="card-body text-white" style="padding-top:0px; padding-right:0px; padding-left:0px">
                     <div class="row" style="padding-right:15px; padding-left:15px">
                        <div class="col">
                           <%- gameNews %>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <footer>
            <p class="text-center" style="text-shadow: 2px 2px 4px black">&copy; 2019-2020 <a href="https://delta.games/" target="_blank">Delta Games</a> | <a href="https://discord.gg/wJ7jRnT" target="_blank">Discord</a></p>
         </footer>
      </div>
      <!-- Bootstrap required scripts -->
      <script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
      <script src='https://www.google.com/recaptcha/api.js'></script>
      <script src="js/authentication.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
   </body>
</html>
